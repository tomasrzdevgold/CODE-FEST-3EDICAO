<!DOCTYPE html>
<html>

<head>

<body>
   
    <div id="centro">
<section>

<form id="formulario"  action="http://localhost:3000/cadastro" method="post" name="form1" >
    
    <legend id="titulo">Formulario de Cadastro</legend>
    <br>

    <div id="grupo-nome">
        <label for="name" id="titulo">Nome:</label>
        <input type="text" id="name" name="nome" />
        <br><br>
    </div>

    <label for="sobrenome" id="titulo">Sobrenome:</label>
    <input type="text" id="sobrenome" name="sobrenome" />

<br> <br>

        <label for="email" id="titulo">Email:</label>
        <input type="email" id="email" name="email"/>
        <br> <br>
    
        <label for="celular" id="titulo">Celular:</label>
        <input type="number" id="celular" name="celular"/>
        <br>
        
        <br> <br>
    
        <label for="mensagem" id="titulo">Mensagem:</label>
        <textarea id="mensagem" name="mensagem" rows="5" cols="33">
            </textarea>
        
        <br>
     
       
<br><br><br>
    
   <!--  <button id="boton" type="submit">Enviar</button>--> 
    
    <button type="reset">limpar</button>
<br>
    <input id="boton" class="enviar" type="submit">
 
   <!-- <p class="envio">Envio com succeso</p> -->
    
    </form>

</section>
</div>   
<script> 
const formulario = document.getElementById('formulario')
const inputs = document.querySelectorAll('#formulario input')
const selects = document.getElementById('estados')
const element = document.getElementById("boton")

const campos = {
nome: false,
email: false,
genero: false

}



const expressoes = {
nome : /^[a-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑA-Z]{2,}$/ ,
email: /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/
}


const validarFormulario = (e)=>{ 
switch (e.target.name) {
    case "nome" :
        if(expressoes.nome.test(e.target.value)){
            campos["nome"] = true
        }else{
            campos["nome"] = false
            
        }
    break
    case "email" :
        if(expressoes.email.test(e.target.value)){
            document.querySelector('.formulario-email-erro').classList.remove('formulario-email-erro-ativo')
            campos["email"] = true
        }else {
            document.querySelector('.formulario-email-erro').classList.add('formulario-email-erro-ativo')
            campos["email"] = false
        }
    break

}
}




inputs.forEach((input)=>{
input.addEventListener('blur',validarFormulario)
input.addEventListener('blur',validar)

})


function validar () {

    if(campos.nome && campos.email && campos.genero){
    document.querySelector('.enviar').classList.add('enviar-ativo')
  
} else {
    document.querySelector('.enviar').classList.remove('enviar-ativo')

}
}





formulario.addEventListener('reset', (e) => {
formulario.reset()
document.querySelector('.enviar').classList.remove('enviar-ativo')

}) 
</script>
   

</body>

</html>

